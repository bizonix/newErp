<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>货期统计分析</title>
<script type="text/javascript" src="./public/js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="./public/js/highcharts.js"></script>
<script type="text/javascript" src="./public/js/exporting.js"></script>
<script type="text/javascript">

//水平轴标签 
var horizontal_lable = [ {$dateStr} ];
//垂直数据柱 
var vertical_data    = [ {$intervalStr} ]; 

{literal}   
var category = "categories: [ {$dateStr} ]";
var chart;
$(document).ready(function() {    
    var obj = {
		chart: {
			renderTo: 'container',
			defaultSeriesType: 'column',
			margin: [ 50, 50, 150, 120]
		},
		title: {
			text: '最近2个月货期分析统计图'
		},        
		xAxis: {
            categories: horizontal_lable,
			labels: {
				rotation: -45,
				align: 'right',
				style: {
					 font: 'normal 13px Verdana, sans-serif'
				}
			}
		},
		yAxis: {
			min: 0,
			title: {
				text: '到货周期(天)'
			}
		},
		legend: {
			enabled: false
		},
		tooltip: {
			formatter: function() {
				return '<b>'+ this.x +'</b><br/>'+'到货周期: '+ Highcharts.numberFormat(this.y, 1) + ' 天';
			}
		},
	        series: [{
			name: 'Population',		    
            data: vertical_data,                
			dataLabels: {
				enabled: true,
				rotation: -90,
				color: '#FFFFFF',
				align: 'right',
				x: -3,
				y: 10,
				formatter: function() {
					return this.y;
				},
				style: {
					font: 'normal 13px Verdana, sans-serif'
				}
			}			
		}]
	};
    
    console.log(obj);
	chart = new Highcharts.Chart(obj);				
});	
{/literal} 
</script>
</head>
<body>

<div id="container" style="width: 800px; height: 400px; margin: 0 auto"></div>		
</body>
</html>
